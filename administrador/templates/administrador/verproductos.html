{% extends "administrador/base.html" %}
{% load static %}
{% block title %}Productos - Administrador{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/admin.css' %}">

<div class="dashboard">
  <!-- Encabezado -->
  <header class="admin-header">
    <div>
      <h2>Listado de productos</h2>
      <p class="subtitle">Consulta general de todos los productos registrados.</p>
    </div>
   
  </header>

  <!-- Tabla solo lectura -->
  <section class="block">
    <div class="block-header">
      <h3>Productos</h3>
      <p class="block-subtitle">Esta vista es solo de consulta, sin acciones de edición.</p>
    </div>

    {% if productos %}
    <table class="table">
      <thead>
        <tr>
          <th>Proveedor</th>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Precio</th>
          <th>Stock</th>
          <th>Asignado a</th>
        </tr>
      </thead>
      <tbody>
        {% for p in productos %}
        <tr>
          <td>{{ p.proveedor_nombre }}</td>
          <td>{{ p.nombre }}</td>
          <td class="desc">{{ p.descripcion|default:"-" }}</td>
          <td>${{ p.precio|floatformat:2 }}</td>
          <td>{{ p.stock }}</td>
          <td>
            {% if p.asignado_a %}
              {{ p.asignado_a.username }}
            {% else %}
              — 
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p class="empty-state">No hay productos registrados aún.</p>
    {% endif %}
  </section>
</div>
{% endblock %}
